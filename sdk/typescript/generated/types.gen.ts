// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
    baseUrl: `${string}://${string}` | (string & {});
};

export type DecisionEnum = 'allow' | 'deny' | 'escalate';

export type Tier = number;

export type PolicyScope = 'global' | 'agent';

export type ErrorResponse = {
    status: 'error';
    error: string;
    reasonCode: string;
    responseClass: ResponseClass;
    message?: string;
};

export type WorkflowRequestInput = {
    requestId: string;
    principalId: string;
    agentId: string;
    actionType: 'payment' | 'credential_use' | 'data_access' | 'external_call' | 'other';
    payloadRef: string;
    timestamp: number;
    privilegedPath?: boolean;
    context?: {
        [key: string]: unknown;
    };
};

export type WorkflowArtifact = {
    requestId: string;
    decision: DecisionEnum;
    reasonCode: string;
    tier: Tier;
    timestamp: number;
    decisionContextHash: string;
    responseClass: ResponseClass;
    hitlRequestId?: string;
    txnId?: string;
};

export type WorkflowRequestResult = WorkflowArtifact & {
    state: string;
};

export type WorkflowRequestState = {
    requestId: string;
    principalId: string;
    agentId: string;
    actionType: string;
    payloadRef: string;
    state: string;
    terminal: boolean;
    decisionContextHash: string;
    hitlRequestId?: string;
    artifact: WorkflowArtifact;
};

export type DecisionRoom = {
    requestId: string;
    agentId: string;
    principalId: string;
    riskTier: 'low' | 'medium' | 'high' | 'critical' | 'unknown';
    reasonFamily: string;
    artifact: WorkflowArtifact;
    expiresAt?: number;
};

export type DecisionActionInput = {
    requestId: string;
    hitlRequestId: string;
    action: 'approve' | 'reject';
};

export type DecisionActionResult = {
    status: 'ok';
    requestId: string;
    decision: DecisionEnum;
    reasonCode: string;
    artifact: WorkflowArtifact;
};

export type AuthorizeExecutionInput = {
    request: WorkflowRequestInput;
    artifact: WorkflowArtifact;
};

export type AuthorizeExecutionResult = {
    status: 'ok';
    allowed: boolean;
    reasonCode: string;
    responseClass: ResponseClass;
};

export type EvidenceEvent = {
    id: string;
    requestId: string;
    timestamp: number;
    reasonCode: string;
    payload: {
        [key: string]: unknown;
    };
};

export type PolicyRule = {
    id: string;
    key: string;
    value: string | number | boolean | Array<string>;
};

export type PolicyApplyInput = {
    scope: PolicyScope;
    scopeId?: string;
    rules: Array<PolicyRule>;
};

export type PolicyConfigResponse = {
    scope: PolicyScope;
    scopeId?: string;
    rules: Array<PolicyRule>;
    policyVersion?: string;
};

export type PolicySimulationResult = {
    status: 'ok';
    blastRadius: {
        affectedAgents: number;
        highRiskAgents: number;
    };
    predictedChanges: Array<{
        requestClass: string;
        before: string;
        after: string;
    }>;
    decision: DecisionEnum;
    tier: Tier;
    reasons: Array<string>;
};

export type PolicyApplyResult = {
    status: 'ok';
    policyVersion: string;
    auditEventId: string;
    message: string;
};

export type MetricsSummary = {
    [key: string]: unknown;
};

export type MetricsSeriesPoint = {
    timestamp: number;
    value: number;
    sampleCount: number;
    dimension?: string;
};

export type MetricsSeriesResponse = {
    metric: string;
    bucket: string;
    window: string;
    schemaVersion?: string;
    projectorVersion?: string;
    series: Array<MetricsSeriesPoint>;
};

export type MetricsReasonsResponse = {
    window: string;
    schemaVersion?: string;
    projectorVersion?: string;
    total: number;
    families: Array<{
        reasonFamily: string;
        count: number;
        percentage: number;
    }>;
};

export type MetricsProjectInput = {
    eventId: string;
    requestId: string;
    timestampMs: number;
    decision: string;
    reasonCode: string;
    reasonFamily: string;
    riskTier: string;
    isTerminal?: boolean;
    hasValidLineage?: boolean;
    incidentDetectedTsMs?: number;
    terminalDecisionTsMs?: number;
    humanMinutes?: number;
    computeCostUnits?: number;
    escalationOverheadUnits?: number;
};

export type MetricsProjectResult = {
    status: 'ok';
    schemaVersion: string;
    projectorVersion: string;
};

export type AgentSummary = {
    agentId: string;
    riskTier: 'low' | 'medium' | 'high' | 'critical' | 'unknown';
    status: string;
    lastDecisionAt?: number;
    driftScore?: number;
};

export type AgentDecision = {
    requestId: string;
    timestamp: number;
    reasonCode: string;
    decision: DecisionEnum;
};

export type AgentDetail = {
    agentId: string;
    riskTier: 'low' | 'medium' | 'high' | 'critical' | 'unknown';
    status: string;
    driftScore: number;
    recentRequests: Array<AgentDecision>;
};

export type EntitySummary = {
    entityId: string;
    entityType: string;
    name: string;
    trustState: string;
    exposureScore: number;
    status: string;
    interfaceCount: number;
    representationCount: number;
    updatedAt: number;
};

export type EntityInterface = {
    interfaceId: string;
    kind: string;
    label: string;
    locator: string;
    verificationState: string;
    authMode?: string;
    createdAt: number;
    updatedAt: number;
};

export type EntityRepresentation = {
    representationId: string;
    agentId: string;
    principalId: string;
    scopes: Array<string>;
    interfaceIds?: Array<string>;
    issuedAt: number;
    expiresAt?: number;
    revokedAt?: number;
};

export type EntityDetail = {
    entityId: string;
    entityType: string;
    displayName: string;
    legalName?: string;
    ownerPrincipalId: string;
    status: string;
    trustState: string;
    exposureScore: number;
    createdAt: number;
    updatedAt: number;
    interfaces: Array<EntityInterface>;
    representations: Array<EntityRepresentation>;
};

export type ResponseClass = 'ok' | 'retryable' | 'blocked' | 'unknown';

export type RequestIdParam = string;

export type AgentIdParam = string;

export type EntityIdParam = string;

export type SubmitWorkflowRequestData = {
    body: WorkflowRequestInput;
    path?: never;
    query?: never;
    url: '/workflow/requests';
};

export type SubmitWorkflowRequestErrors = {
    /**
     * Deterministic error envelope
     */
    400: ErrorResponse;
    /**
     * Deterministic error envelope
     */
    401: ErrorResponse;
    /**
     * Deterministic error envelope
     */
    409: ErrorResponse;
};

export type SubmitWorkflowRequestError = SubmitWorkflowRequestErrors[keyof SubmitWorkflowRequestErrors];

export type SubmitWorkflowRequestResponses = {
    /**
     * Request accepted and decision produced
     */
    200: WorkflowRequestResult;
};

export type SubmitWorkflowRequestResponse = SubmitWorkflowRequestResponses[keyof SubmitWorkflowRequestResponses];

export type GetWorkflowRequestData = {
    body?: never;
    path: {
        requestId: string;
    };
    query?: never;
    url: '/workflow/requests/{requestId}';
};

export type GetWorkflowRequestErrors = {
    /**
     * Deterministic error envelope
     */
    401: ErrorResponse;
    /**
     * Deterministic error envelope
     */
    404: ErrorResponse;
};

export type GetWorkflowRequestError = GetWorkflowRequestErrors[keyof GetWorkflowRequestErrors];

export type GetWorkflowRequestResponses = {
    /**
     * Request state
     */
    200: WorkflowRequestState;
};

export type GetWorkflowRequestResponse = GetWorkflowRequestResponses[keyof GetWorkflowRequestResponses];

export type GetDecisionRoomData = {
    body?: never;
    path: {
        requestId: string;
    };
    query?: never;
    url: '/workflow/decision-room/{requestId}';
};

export type GetDecisionRoomErrors = {
    /**
     * Deterministic error envelope
     */
    401: ErrorResponse;
    /**
     * Deterministic error envelope
     */
    404: ErrorResponse;
};

export type GetDecisionRoomError = GetDecisionRoomErrors[keyof GetDecisionRoomErrors];

export type GetDecisionRoomResponses = {
    /**
     * Decision context
     */
    200: DecisionRoom;
};

export type GetDecisionRoomResponse = GetDecisionRoomResponses[keyof GetDecisionRoomResponses];

export type ResolveDecisionActionData = {
    body: DecisionActionInput;
    headers?: {
        /**
         * Optional idempotency key for replay protection on decision actions.
         */
        'x-idempotency-key'?: string;
    };
    path?: never;
    query?: never;
    url: '/workflow/decision-room/action';
};

export type ResolveDecisionActionErrors = {
    /**
     * Deterministic error envelope
     */
    400: ErrorResponse;
    /**
     * Deterministic error envelope
     */
    401: ErrorResponse;
    /**
     * Deterministic error envelope
     */
    404: ErrorResponse;
    /**
     * Deterministic error envelope
     */
    409: ErrorResponse;
};

export type ResolveDecisionActionError = ResolveDecisionActionErrors[keyof ResolveDecisionActionErrors];

export type ResolveDecisionActionResponses = {
    /**
     * Action accepted
     */
    200: DecisionActionResult;
};

export type ResolveDecisionActionResponse = ResolveDecisionActionResponses[keyof ResolveDecisionActionResponses];

export type AuthorizeExecutionData = {
    body: AuthorizeExecutionInput;
    path?: never;
    query?: never;
    url: '/workflow/authorize-execution';
};

export type AuthorizeExecutionErrors = {
    /**
     * Deterministic error envelope
     */
    400: ErrorResponse;
    /**
     * Deterministic error envelope
     */
    401: ErrorResponse;
    /**
     * Deterministic error envelope
     */
    409: ErrorResponse;
};

export type AuthorizeExecutionError = AuthorizeExecutionErrors[keyof AuthorizeExecutionErrors];

export type AuthorizeExecutionResponses = {
    /**
     * Gate result
     */
    200: AuthorizeExecutionResult;
};

export type AuthorizeExecutionResponse = AuthorizeExecutionResponses[keyof AuthorizeExecutionResponses];

export type GetWorkflowEvidenceData = {
    body?: never;
    path: {
        requestId: string;
    };
    query?: never;
    url: '/workflow/evidence/{requestId}';
};

export type GetWorkflowEvidenceErrors = {
    /**
     * Deterministic error envelope
     */
    401: ErrorResponse;
};

export type GetWorkflowEvidenceError = GetWorkflowEvidenceErrors[keyof GetWorkflowEvidenceErrors];

export type GetWorkflowEvidenceResponses = {
    /**
     * Ordered evidence events
     */
    200: Array<EvidenceEvent>;
};

export type GetWorkflowEvidenceResponse = GetWorkflowEvidenceResponses[keyof GetWorkflowEvidenceResponses];

export type GetPolicyConfigData = {
    body?: never;
    path?: never;
    query?: {
        scope?: PolicyScope;
        scopeId?: string;
    };
    url: '/policy/config';
};

export type GetPolicyConfigResponses = {
    /**
     * Active policy config
     */
    200: PolicyConfigResponse;
};

export type GetPolicyConfigResponse = GetPolicyConfigResponses[keyof GetPolicyConfigResponses];

export type SimulatePolicyData = {
    body: PolicyApplyInput;
    path?: never;
    query?: never;
    url: '/policy/simulate';
};

export type SimulatePolicyErrors = {
    /**
     * Deterministic error envelope
     */
    400: ErrorResponse;
};

export type SimulatePolicyError = SimulatePolicyErrors[keyof SimulatePolicyErrors];

export type SimulatePolicyResponses = {
    /**
     * Simulation result
     */
    200: PolicySimulationResult;
};

export type SimulatePolicyResponse = SimulatePolicyResponses[keyof SimulatePolicyResponses];

export type ApplyPolicyData = {
    body: PolicyApplyInput;
    path?: never;
    query?: never;
    url: '/policy/apply';
};

export type ApplyPolicyErrors = {
    /**
     * Deterministic error envelope
     */
    400: ErrorResponse;
    /**
     * Deterministic error envelope
     */
    401: ErrorResponse;
};

export type ApplyPolicyError = ApplyPolicyErrors[keyof ApplyPolicyErrors];

export type ApplyPolicyResponses = {
    /**
     * Policy apply result
     */
    200: PolicyApplyResult;
};

export type ApplyPolicyResponse = ApplyPolicyResponses[keyof ApplyPolicyResponses];

export type GetMetricsSummaryData = {
    body?: never;
    path?: never;
    query?: {
        window?: '24h' | '7d' | '30d';
    };
    url: '/metrics/summary';
};

export type GetMetricsSummaryResponses = {
    /**
     * Metrics summary
     */
    200: MetricsSummary;
};

export type GetMetricsSummaryResponse = GetMetricsSummaryResponses[keyof GetMetricsSummaryResponses];

export type GetMetricsSeriesData = {
    body?: never;
    path?: never;
    query?: {
        metric?: string;
        bucket?: 'hour' | 'day';
        window?: '24h' | '7d' | '30d';
    };
    url: '/metrics/series';
};

export type GetMetricsSeriesResponses = {
    /**
     * Metrics time series
     */
    200: MetricsSeriesResponse;
};

export type GetMetricsSeriesResponse = GetMetricsSeriesResponses[keyof GetMetricsSeriesResponses];

export type GetMetricsReasonsData = {
    body?: never;
    path?: never;
    query?: {
        window?: '24h' | '7d' | '30d';
    };
    url: '/metrics/reasons';
};

export type GetMetricsReasonsResponses = {
    /**
     * Reason-family statistics
     */
    200: MetricsReasonsResponse;
};

export type GetMetricsReasonsResponse = GetMetricsReasonsResponses[keyof GetMetricsReasonsResponses];

export type ProjectMetricsEventData = {
    body: MetricsProjectInput;
    path?: never;
    query?: never;
    url: '/metrics/project';
};

export type ProjectMetricsEventErrors = {
    /**
     * Deterministic error envelope
     */
    400: ErrorResponse;
};

export type ProjectMetricsEventError = ProjectMetricsEventErrors[keyof ProjectMetricsEventErrors];

export type ProjectMetricsEventResponses = {
    /**
     * Projection accepted
     */
    200: MetricsProjectResult;
};

export type ProjectMetricsEventResponse = ProjectMetricsEventResponses[keyof ProjectMetricsEventResponses];

export type ListAgentsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/agents';
};

export type ListAgentsResponses = {
    /**
     * Agent list
     */
    200: {
        agents: Array<AgentSummary>;
    };
};

export type ListAgentsResponse = ListAgentsResponses[keyof ListAgentsResponses];

export type GetAgentData = {
    body?: never;
    path: {
        agentId: string;
    };
    query?: never;
    url: '/agents/{agentId}';
};

export type GetAgentErrors = {
    /**
     * Deterministic error envelope
     */
    404: ErrorResponse;
};

export type GetAgentError = GetAgentErrors[keyof GetAgentErrors];

export type GetAgentResponses = {
    /**
     * Agent detail
     */
    200: AgentDetail;
};

export type GetAgentResponse = GetAgentResponses[keyof GetAgentResponses];

export type ListEntitiesData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/entities';
};

export type ListEntitiesResponses = {
    /**
     * Entity list
     */
    200: {
        entities: Array<EntitySummary>;
    };
};

export type ListEntitiesResponse = ListEntitiesResponses[keyof ListEntitiesResponses];

export type GetEntityData = {
    body?: never;
    path: {
        entityId: string;
    };
    query?: never;
    url: '/entities/{entityId}';
};

export type GetEntityErrors = {
    /**
     * Deterministic error envelope
     */
    404: ErrorResponse;
};

export type GetEntityError = GetEntityErrors[keyof GetEntityErrors];

export type GetEntityResponses = {
    /**
     * Entity detail
     */
    200: EntityDetail;
};

export type GetEntityResponse = GetEntityResponses[keyof GetEntityResponses];
